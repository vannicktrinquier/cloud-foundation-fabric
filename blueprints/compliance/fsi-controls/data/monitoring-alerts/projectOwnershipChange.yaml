projectOwnershipChange:
  alert_strategy:
    auto_close: 604800s
    notification_rate_limit:
      period: 300s
  combiner: OR
  conditions:
  - condition_matched_log:
      filter: "(protoPayload.serviceName=\"cloudresourcemanager.googleapis.com\")\
        \ AND  (ProjectOwnership OR projectOwnerInvitee)  OR  (\n  protoPayload.serviceData.policyDelta.bindingDeltas.action=\"\
        REMOVE\" AND \n  protoPayload.serviceData.policyDelta.bindingDeltas.role=\"\
        roles/owner\"\n)  OR  (\n  protoPayload.serviceData.policyDelta.bindingDeltas.action=\"\
        ADD\" AND \n  protoPayload.serviceData.policyDelta.bindingDeltas.role=\"roles/owner\"\
        \n)"
      label_extractors:
        folder_id: EXTRACT(labels.folder_id)
        method_name: EXTRACT(protoPayload.methodName)
        organization_id: EXTRACT(labels.organization_id)
        principal: EXTRACT(protoPayload.authenticationInfo.principalEmail)
        project_id: EXTRACT(labels.project_id)
    display_name: 'Log match condition: project ownership changes'
  display_name: Project Ownership Changes
  documentation:
    content: "Log-based alerting policy in project ${project} detected a project ownership\
      \ assignments or changes. ``` (protoPayload.serviceName=\"cloudresourcemanager.googleapis.com\"\
      ) AND  (ProjectOwnership OR projectOwnerInvitee)  OR  (\n  protoPayload.serviceData.policyDelta.bindingDeltas.action=\"\
      REMOVE\" AND \n  protoPayload.serviceData.policyDelta.bindingDeltas.role=\"\
      roles/owner\"\n)  OR  (\n  protoPayload.serviceData.policyDelta.bindingDeltas.action=\"\
      ADD\" AND \n  protoPayload.serviceData.policyDelta.bindingDeltas.role=\"roles/owner\"\
      \n) ```"
    mime_type: text/markdown
  notification_channels:
  - projects/fsi-foundation-logging-d872/notificationChannels/14935710665502908194
